---
import { Image } from "astro:assets";
import { Icon } from "astro-icon/components";
import FullWidthLayout from "../../../layouts/FullWidthLayout.astro";
import Testimonial from "../../../components/books/Testimonial.astro";
import cover from "../../../images/web-api-cookbook-cover.jpg";
import contents from "./_contents.json";
---

<FullWidthLayout title="Web API Cookbook">
  <div class="bg-slate-200 dark:bg-zinc-700">
    <div
      class="fixed-header bg-blue-900 fixed z-[100] w-full text-white p-4 flex items-center justify-between opacity-0 transition-opacity"
    >
      <h2 class="text-2xl">Web API Cookbook</h2>
      <a
        class="hover:scale-105 transition-transform bg-orange-600 hover:bg-orange-500 px-4 py-2  text-white rounded flex items-center gap-2"
        href="https://www.amazon.com/Web-API-Cookbook-JavaScript-Applications/dp/1098150694"
      >
        <Icon name="fa6-brands:amazon" />
        Buy from Amazon
      </a>
    </div>
    <div
      class="hero bg-blue-900 dark:bg-blue-800 w-full p-12 relative z-10 overflow-hidden"
    >
      <div class="w-full max-w-7xl mx-auto justify-self-center">
        <div class="flex flex-col sm:flex-row items-center gap-16">
          <Image
            class="cover w-1/2 sm:w-1/3"
            src={cover}
            alt="Web API Cookbook cover"
          />
          <div class="hero-content flex flex-col gap-4 items-start">
            <div>
              <h2 class="text-white text-4xl">Web API Cookbook</h2>
              <p class="text-white text-2xl">
                Level Up Your JavaScript Applications
              </p>
              <p class="text-white">by Joe Attardi</p>
            </div>
            <p class="text-4xl sm:text-7xl text-white font-bold">
              Master modern web APIs.
            </p>
            <p class="text-2xl sm:text-4xl text-white">
              Unlock the full potential of modern browsers with hands-on
              guidance through powerful web APIs.
            </p>
            <div class="mt-4 flex items-center gap-4 flex-wrap">
              <a
                class="hover:scale-105 transition-transform bg-orange-600 hover:bg-orange-500 px-4 py-2 text-xl text-white rounded flex items-center gap-2"
                href="https://www.amazon.com/Web-API-Cookbook-JavaScript-Applications/dp/1098150694"
              >
                <Icon name="fa6-brands:amazon" />
                Buy from Amazon
              </a>
              <a
                class="hover:scale-105 transition-transform bg-orange-600 hover:bg-orange-500 px-4 py-2 text-xl text-white rounded flex items-center gap-2"
                href="https://www.webapis.info/examples"
              >
                <Icon name="ph:code" />
                Code and demos
              </a>
            </div>
            <div class="text-white flex flex-col gap-2">
              Also available from:
              <ul class="flex flex-wrap gap-2">
                <li>
                  <a
                    class="bg-blue-700 py-2 px-4 rounded block"
                    href="https://www.barnesandnoble.com/w/web-api-cookbook-joe-attardi/1144735729?ean=9781098150693"
                    >Barnes &amp; Noble</a
                  >
                </li>
                <li>
                  <a
                    class="bg-blue-700 py-2 px-4 rounded block"
                    href="https://www.oreilly.com/library/view/web-api-cookbook/9781098150686/"
                    >O'Reilly Platform</a
                  >
                </li>
                <li>
                  <a
                    class="bg-blue-700 py-2 px-4 rounded block"
                    href="https://books.apple.com/us/book/web-api-cookbook/id6479818683"
                    >Apple Books</a
                  >
                </li>
                <li>
                  <a
                    class="bg-blue-700 py-2 px-4 rounded block"
                    href="https://play.google.com/store/books/details/Joe_Attardi_Web_API_Cookbook?id=ZaT8EAAAQBAJ"
                    >Google Play Books</a
                  >
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="w-full max-w-7xl mx-auto p-8 flex flex-col gap-4">
      <h3 class="text-4xl">About the Book</h3>
      <div
        class="bg-white dark:bg-zinc-800 rounded border border-slate-300 p-4 flex flex-col gap-4 text-lg"
      >
        <p>
          JavaScript gives web developers great power to create rich interactive
          browser experiences, and much of that power is provided by the browser
          itself. Modern web APIs enable web-based applications to come to life
          like never before, supporting actions that once required browser
          plug-ins. Some are still in an experimental stage, but many are ready
          for use today.
        </p>

        <p>
          This hands-on cookbook explores the powerful APIs available in modern
          browsers and guides you through the specific tasks that they unlock.
          Because these features are web standards, there is comprehensive
          documentation available from trusted resources such as MDN Web Docs.
          The knowledge you'll gain is transferable across different companies
          and projects.
        </p>

        <p>With this book, you'll:</p>

        <ul class="list-disc ml-8">
          <li>
            Learn the breadth of functionality available in modern browser APIs
          </li>
          <li>Explore future APIs that are still in an experimental stage</li>
          <li>
            Discover newer elements, such as dialog that replaces the need for a
            third-party library
          </li>
          <li>
            Build more powerful and interactive web applications using native
            APIs
          </li>
          <li>
            Understand the permissions model used by the browser to unlock
            functionality such as geolocation and push notifications
          </li>
        </ul>
      </div>
    </div>

    <!-- <div
      class="w-full max-w-7xl mx-auto p-8 flex gap-12 justify-center items-start"
    >
      <Testimonial
        name="Sarah Shook"
        title="Software developer/owner, Shook LLC"
      >
        <em class="italic">Web API Cookbook</em> covers a wide range of browser-based
        APIs and provides valuable examples for all skill levels. Plus, Joe's writing
        style and thoughtful explanations make the learning enjoyable. This is a
        must-read for web developers!
      </Testimonial>

      <Testimonial name="Bret Little" title="Staff Software Engineer, Shopify">
        This book offered fresh insights and introduced me to APIs I never knew
        existed.
      </Testimonial>
    </div> -->

    <div class="w-full max-w-7xl mx-auto p-8 flex flex-col gap-4">
      <h3 class="text-4xl">Contents</h3>
      <div
        class="bg-white dark:bg-zinc-800 rounded border border-slate-300 p-4 flex flex-col gap-4"
      >
        <ol class="list-decimal ml-8 flex flex-col gap-2">
          {
            contents.map((item) => (
              <li>
                <div class="text-xl">{item.name}</div>
                <div>{item.description}</div>
              </li>
            ))
          }
        </ol>
      </div>
    </div>
  </div>

  <script>
    const hero = document.querySelector(".hero");
    const header = document.querySelector(".fixed-header");

    if (hero) {
      const observer = new IntersectionObserver(
        ([entry]) => {
          header?.classList.toggle("opacity-0", entry.isIntersecting);
        },
        {
          rootMargin: "-125px 0px 0px 0px",
        },
      );
      observer.observe(hero);
    }
  </script>

  <style>
    @keyframes appear-text {
      from {
        opacity: 0;
      }
      to {
        opacity: 1;
      }
    }

    @keyframes appear-book {
      from {
        opacity: 0;
        transform: scale(0.9) rotate(0);
      }

      to {
        opacity: 1;
        transform: scale(1) rotate(-2deg);
      }
    }

    .cover {
      animation: appear-book 250ms ease-out;
      animation-delay: 250ms;
      animation-fill-mode: both;
    }

    .hero-content {
      animation: appear-text 250ms ease-out;
      animation-delay: 300ms;
      animation-fill-mode: both;
    }
  </style>
</FullWidthLayout>
